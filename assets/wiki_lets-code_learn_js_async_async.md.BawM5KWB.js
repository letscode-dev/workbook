import{_ as e,C as t,o as c,c as r,j as s,a,E as p,w as l,aw as i}from"./chunks/framework.DLufY-ao.js";const C=JSON.parse('{"title":"Async Function (ES2017)","description":"","frontmatter":{},"headers":[],"relativePath":"wiki/lets-code/learn/js/async/async.md","filePath":"wiki/lets-code/learn/js/async/async.md"}'),y={name:"wiki/lets-code/learn/js/async/async.md"};function A(d,n,u,g,h,b){const o=t("v-two");return c(),r("div",null,[n[4]||(n[4]=s("h1",{id:"async-function-es2017",tabindex:"-1"},[a("Async Function (ES2017) "),s("a",{class:"header-anchor",href:"#async-function-es2017","aria-label":'Permalink to "Async Function (ES2017)"'},"​")],-1)),n[5]||(n[5]=s("h3",{id:"объявление",tabindex:"-1"},[a("Объявление "),s("a",{class:"header-anchor",href:"#объявление","aria-label":'Permalink to "Объявление"'},"​")],-1)),p(o,null,{first:l(()=>[...n[0]||(n[0]=[s("div",{class:"language-js"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"js"),s("pre",{class:"shiki one-light vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A0A1A7","font-style":"italic"}},"// Стрелочная")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A626A4"}},"const"),s("span",{style:{color:"#4078F2"}}," foo"),s("span",{style:{color:"#0184BC"}}," ="),s("span",{style:{color:"#A626A4"}}," async"),s("span",{style:{color:"#383A42"}}," () "),s("span",{style:{color:"#A626A4"}},"=>"),s("span",{style:{color:"#383A42"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A626A4"}},"    const"),s("span",{style:{color:"#986801"}}," a"),s("span",{style:{color:"#0184BC"}}," ="),s("span",{style:{color:"#A626A4"}}," await"),s("span",{style:{color:"#4078F2"}}," AsyncFunction"),s("span",{style:{color:"#383A42"}},"();")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#383A42"}},"};")])])])],-1)])]),last:l(()=>[...n[1]||(n[1]=[s("div",{class:"language-js"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"js"),s("pre",{class:"shiki one-light vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A0A1A7","font-style":"italic"}},"// Обычная")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A626A4"}},"async"),s("span",{style:{color:"#A626A4"}}," function"),s("span",{style:{color:"#4078F2"}}," foo"),s("span",{style:{color:"#383A42"}},"() {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A626A4"}},"    const"),s("span",{style:{color:"#986801"}}," a"),s("span",{style:{color:"#0184BC"}}," ="),s("span",{style:{color:"#A626A4"}}," await"),s("span",{style:{color:"#4078F2"}}," AsyncFunction"),s("span",{style:{color:"#383A42"}},"();  ")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#383A42"}},"}")])])])],-1)])]),_:1}),p(o,null,{first:l(()=>[...n[2]||(n[2]=[s("div",{class:"language-js"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"js"),s("pre",{class:"shiki one-light vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A0A1A7","font-style":"italic"}},"// Стрелочная")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#383A42"}},"("),s("span",{style:{color:"#A626A4"}},"async"),s("span",{style:{color:"#383A42"}}," () "),s("span",{style:{color:"#A626A4"}},"=>"),s("span",{style:{color:"#383A42"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A626A4"}},"    const"),s("span",{style:{color:"#986801"}}," a"),s("span",{style:{color:"#0184BC"}}," ="),s("span",{style:{color:"#A626A4"}}," await"),s("span",{style:{color:"#4078F2"}}," AsyncFunction"),s("span",{style:{color:"#383A42"}},"();")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#383A42"}},"})()")])])])],-1)])]),last:l(()=>[...n[3]||(n[3]=[s("div",{class:"language-js"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"js"),s("pre",{class:"shiki one-light vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A0A1A7","font-style":"italic"}},"// Обычная")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#383A42"}},"("),s("span",{style:{color:"#A626A4"}},"async"),s("span",{style:{color:"#A626A4"}}," function"),s("span",{style:{color:"#383A42"}},"() {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A626A4"}},"    const"),s("span",{style:{color:"#986801"}}," a"),s("span",{style:{color:"#0184BC"}}," ="),s("span",{style:{color:"#A626A4"}}," await"),s("span",{style:{color:"#4078F2"}}," AsyncFunction"),s("span",{style:{color:"#383A42"}},"();")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#383A42"}},"})();")])])])],-1)])]),_:1}),n[6]||(n[6]=i(`<h3 id="описание" tabindex="-1">Описание <a class="header-anchor" href="#описание" aria-label="Permalink to &quot;Описание&quot;">​</a></h3><ul><li><code>Async Function</code> - асинхронная функция (<code>Promise</code> + <code>Generator</code>)</li><li>Асинхронная функция возвращает <u>Promise</u>, для получения значения используется then</li><li>await дожидается выполнения <u>Promise</u>, вытаскивает значение и возвращает его</li><li>await можно использовать только внутри асинхронной функции</li><li>await необязательно ставить перед вызовом асинхронной фунцкии. это может быть любая функция, возвращающая <u>Promise</u></li></ul><h3 id="примеры" tabindex="-1">Примеры <a class="header-anchor" href="#примеры" aria-label="Permalink to &quot;Примеры&quot;">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-light vp-code" tabindex="0"><code><span class="line"><span style="color:#A0A1A7;font-style:italic;">// AJAX-запрос</span></span>
<span class="line"><span style="color:#A626A4;">const</span><span style="color:#4078F2;"> getResource</span><span style="color:#0184BC;"> =</span><span style="color:#A626A4;"> async</span><span style="color:#383A42;"> (url) </span><span style="color:#A626A4;">=&gt;</span><span style="color:#383A42;"> {</span></span>
<span class="line"><span style="color:#A626A4;">    const</span><span style="color:#986801;"> res</span><span style="color:#0184BC;"> =</span><span style="color:#A626A4;"> await</span><span style="color:#4078F2;"> fetch</span><span style="color:#383A42;">(url);</span></span>
<span class="line"><span style="color:#A626A4;">    return</span><span style="color:#A626A4;"> await</span><span style="color:#383A42;"> res.</span><span style="color:#4078F2;">json</span><span style="color:#383A42;">();</span></span>
<span class="line"><span style="color:#383A42;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4078F2;">getResource</span><span style="color:#383A42;">(</span><span style="color:#50A14F;">&#39;https://swapi.co/api/people/1/&#39;</span><span style="color:#383A42;">)</span></span>
<span class="line"><span style="color:#383A42;">    .</span><span style="color:#4078F2;">then</span><span style="color:#383A42;">(body </span><span style="color:#A626A4;">=&gt;</span><span style="color:#383A42;"> console.</span><span style="color:#4078F2;">log</span><span style="color:#383A42;">(body))</span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-light vp-code" tabindex="0"><code><span class="line"><span style="color:#A0A1A7;font-style:italic;">// Асинхронная функция</span></span>
<span class="line"><span style="color:#A626A4;">async</span><span style="color:#A626A4;"> function</span><span style="color:#4078F2;"> getUser</span><span style="color:#383A42;">(id) {</span></span>
<span class="line"><span style="color:#A626A4;">    return</span><span style="color:#383A42;"> { </span><span style="color:#E45649;">id</span><span style="color:#0184BC;">:</span><span style="color:#986801;">1</span><span style="color:#383A42;"> };   </span></span>
<span class="line"><span style="color:#383A42;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4;">async</span><span style="color:#A626A4;"> function</span><span style="color:#4078F2;"> main</span><span style="color:#383A42;">() {</span></span>
<span class="line"><span style="color:#A626A4;">    let</span><span style="color:#383A42;"> user </span><span style="color:#0184BC;">=</span><span style="color:#A626A4;"> await</span><span style="color:#4078F2;"> getUser</span><span style="color:#383A42;">(</span><span style="color:#986801;">1</span><span style="color:#383A42;">);</span></span>
<span class="line"><span style="color:#383A42;">    console.</span><span style="color:#4078F2;">log</span><span style="color:#383A42;">(user);</span></span>
<span class="line"><span style="color:#383A42;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4078F2;">main</span><span style="color:#383A42;">();</span></span></code></pre></div><h3 id="использование-в-классах-и-объектах" tabindex="-1">Использование в классах и объектах <a class="header-anchor" href="#использование-в-классах-и-объектах" aria-label="Permalink to &quot;Использование в классах и объектах&quot;">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-light vp-code" tabindex="0"><code><span class="line"><span style="color:#A0A1A7;font-style:italic;">// Свойство объекта</span></span>
<span class="line"><span style="color:#A626A4;">const</span><span style="color:#986801;"> obj</span><span style="color:#0184BC;"> =</span><span style="color:#383A42;"> {</span></span>
<span class="line"><span style="color:#4078F2;">    getUser</span><span style="color:#0184BC;">:</span><span style="color:#A626A4;"> async</span><span style="color:#A626A4;"> function</span><span style="color:#383A42;">(id) {</span></span>
<span class="line"><span style="color:#A0A1A7;font-style:italic;">        //</span></span>
<span class="line"><span style="color:#383A42;">    }</span></span>
<span class="line"><span style="color:#383A42;">}</span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-light vp-code" tabindex="0"><code><span class="line"><span style="color:#A0A1A7;font-style:italic;">// Метод объекта</span></span>
<span class="line"><span style="color:#A626A4;">const</span><span style="color:#986801;"> obj</span><span style="color:#0184BC;"> =</span><span style="color:#383A42;"> {</span></span>
<span class="line"><span style="color:#A626A4;">    async</span><span style="color:#4078F2;"> getName</span><span style="color:#383A42;">() {</span></span>
<span class="line"><span style="color:#A626A4;">        return</span><span style="color:#4078F2;"> fetch</span><span style="color:#383A42;">(</span><span style="color:#50A14F;">&#39;https://www.example.com&#39;</span><span style="color:#383A42;">);</span></span>
<span class="line"><span style="color:#383A42;">    }</span></span>
<span class="line"><span style="color:#383A42;">}</span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-light vp-code" tabindex="0"><code><span class="line"><span style="color:#A0A1A7;font-style:italic;">// Класс</span></span>
<span class="line"><span style="color:#A626A4;">class</span><span style="color:#C18401;"> Obj</span><span style="color:#383A42;"> {</span></span>
<span class="line"><span style="color:#A626A4;">    async</span><span style="color:#4078F2;"> getResource</span><span style="color:#383A42;">() {</span></span>
<span class="line"><span style="color:#A626A4;">        return</span><span style="color:#4078F2;"> fetch</span><span style="color:#383A42;">(</span><span style="color:#50A14F;">&#39;https://www.example.com&#39;</span><span style="color:#383A42;">);</span></span>
<span class="line"><span style="color:#383A42;">    }</span></span>
<span class="line"><span style="color:#383A42;">}</span></span></code></pre></div>`,9))])}const F=e(y,[["render",A]]);export{C as __pageData,F as default};
